- [etops](#etops)
- [synopsis](#synopsis)
- [References](#references)

# etops
ET DevOps Repo - packaging and deploying cloud based veget

## Synopsis

1. on your local computer - in a folder called myconfig
	- edit the run, param and model yaml files to your satisfaction
2. push your configs from your local computer to the cloud
	- use scp and the destination directory is the docker ship - 10.12.x.y:./dropbox
3. ssh to the docker ship 10.12....
4. cd /opt/etops
	- make cloud_et_for_dummys
5. cd runs/YOUR_RUN_NAME_HERE
	- make model_prepare
6. tmux
7. bash cmd_...YOUR_RUN_NAME_HERE.sh
8. Monitoring the running cloud docker container ensamble
9. Tail the log files

## References

https://kevcodez.de/posts/2019-08-10-fluent-bit-docker-logging-driver-elasticsearch/


## Concepts 

1. docker applications should just log to stdout

2. docker logging driver catches those log-events

3. logging events are processed and forwarded


## Fluentbit - takes 1/10 the resources of fluentd

- Fluent Bit can be configured by file or command line.

There are different sections of configuration:

    Service

- defines the global behavior of the Fluent Bit engine
Input
- defines the source from where Fluent Bit can collect data
Parser
- take unstructured log entries and give them structure
Filter
- allows to alter the incoming data generated by the input plugins
Output
- defines where Fluent Bit should flush the information it gathers from the input

```

[SERVICE]
	log_level debug

# The stdin plugin allows to retrieve valid JSON text messages over the standard input interface (stdin)
[INPUT]
	Name stdin

# The Record Modifier Filter plugin allows to append fields or to exclude specific fields.
[FILTER]
	Name record_modifier
	Match *
	Record hostname ${HOSTNAME}

# The stdout output plugin allows to print to the standard output the data received through the input plugin.
[OUTPUT]
	Name stdout
```


